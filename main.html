<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>å°ç‹—å•ƒä¸»äººæ¨¡æ‹Ÿå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: "ä»¿å®‹", "FangSong", "STFangsong", serif;
        }
        
        body {
            background: linear-gradient(135deg, #ff6b6b, #ee5a52);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden;
            padding: 20px;
        }
        
        .container {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.3);
            max-width: 900px;
            width: 95%;
            text-align: center;
        }
        
        .disclaimer {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
            font-size: 14px;
            color: #856404;
            text-align: center;
            cursor: pointer;
        }
        
        .disclaimer-content {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background: #fff;
            border-radius: 5px;
            border: 1px dashed #ffeaa7;
        }
        
        h1 {
            color: #c0392b;
            font-size: 36px;
            margin-bottom: 20px;
            text-shadow: 2px 2px 0 #fdcb6e;
        }
        
        .event-alert {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            animation: slideIn 0.5s ease-out;
            display: none;
            border: 2px solid #2c3e50;
        }
        
        .dog-container {
            font-size: 80px;
            margin: 20px 0;
            animation: bounce 2s infinite;
            cursor: pointer;
        }
        
        .fragments-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 15px;
            margin: 25px 0;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 15px;
            border: 3px dashed #e74c3c;
        }
        
        .fragment-item {
            background: white;
            padding: 15px;
            border-radius: 10px;
            border: 2px solid #bdc3c7;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        
        .fragment-item:hover {
            transform: translateY(-3px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .fragment-item.eaten {
            background: #f1f1f1;
            border-color: #95a5a6;
        }
        
        .fragment-item.eaten .fragment-name {
            text-decoration: line-through;
            color: #7f8c8d;
        }
        
        .fragment-item.eaten::after {
            content: "âœ…";
            position: absolute;
            top: 5px;
            right: 5px;
            font-size: 16px;
        }
        
        .fragment-emoji {
            font-size: 24px;
            margin-bottom: 8px;
        }
        
        .fragment-name {
            font-size: 16px;
            color: #2c3e50;
            font-weight: bold;
        }
        
        .progress-container {
            background: #ecf0f1;
            border-radius: 25px;
            height: 30px;
            margin: 20px 0;
            overflow: hidden;
            border: 2px solid #2c3e50;
        }
        
        .progress-bar {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            height: 100%;
            width: 0%;
            transition: width 0.5s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 25px 0;
        }
        
        .btn {
            background: linear-gradient(135deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s;
            border: 2px solid #2c3e50;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(231, 76, 60, 0.3);
        }
        
        .btn-reset {
            background: linear-gradient(135deg, #7f8c8d, #95a5a6);
        }
        
        .btn-event {
            background: linear-gradient(135deg, #fdcb6e, #f39c12);
        }
        
        .status-message {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            font-size: 20px;
            color: #856404;
            min-height: 80px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .completion-message {
            background: #d4edda;
            border: 2px solid #c3e6cb;
            color: #155724;
            font-size: 24px;
            font-weight: bold;
            padding: 30px;
            border-radius: 15px;
            margin: 20px 0;
            animation: celebrate 1s ease-in-out;
        }
        
        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes celebrate {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        @keyframes chew {
            0%, 100% { transform: rotate(0deg); }
            25% { transform: rotate(10deg); }
            75% { transform: rotate(-10deg); }
        }
        
        @keyframes slideIn {
            from { transform: translateY(-50px); opacity: 0; }
            to { transform: translateY(0); opacity: 1; }
        }
        
        .chewing {
            animation: chew 0.3s infinite;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å…è´£å£°æ˜ -->
        <div class="disclaimer" onclick="toggleDisclaimer()">
            âš ï¸ å…è´£å£°æ˜ï¼šæœ¬æ¸¸æˆçº¯å±è™šæ„ï¼Œè¯·å‹¿æ¨¡ä»¿ï¼ˆç‚¹å‡»å±•å¼€ï¼‰
            <div class="disclaimer-content" id="disclaimerContent">
                1. æœ¬æ¸¸æˆä¸ºçº¯å¨±ä¹æ€§è´¨ï¼Œæ‰€æœ‰å†…å®¹å‡ä¸ºè™šæ„<br>
                2. è¯·å‹¿åœ¨ç°å®ç”Ÿæ´»ä¸­æ¨¡ä»¿ä»»ä½•æ¸¸æˆä¸­çš„è¡Œä¸º<br>
                3. æ¸¸æˆå†…å®¹ä¸ä»£è¡¨å¼€å‘è€…çœŸå®è§‚ç‚¹<br>
                4. å¦‚æ„Ÿä¸é€‚è¯·ç«‹å³åœæ­¢æ¸¸æˆ<br>
                5. ä»…é™æˆå¹´äººå¨±ä¹ä½¿ç”¨
            </div>
        </div>
        
        <h1>ğŸ¶ å°ç‹—å•ƒä¸»äººæ¨¡æ‹Ÿå™¨ ğŸ–</h1>
        
        <!-- éšæœºäº‹ä»¶æç¤º -->
        <div class="event-alert" id="eventAlert"></div>
        
        <div class="dog-container" id="dog" onclick="randomEvent()">ğŸ•</div>
        
        <div class="fragments-grid" id="fragmentsGrid">
            <!-- ä¸»äººç¢ç‰‡å°†ä¼šé€šè¿‡JSåŠ¨æ€ç”Ÿæˆ -->
        </div>
        
        <div class="progress-container">
            <div class="progress-bar" id="progressBar">0%</div>
        </div>
        
        <div class="status-message" id="statusMessage">
            è¯·é€‰æ‹©è¦å•ƒçš„ä¸»äººç¢ç‰‡...
        </div>
        
        <div class="controls">
            <button class="btn" onclick="chewRandom()">éšæœºå•ƒä¸€å£</button>
            <button class="btn btn-event" onclick="triggerRandomEvent()">è§¦å‘éšæœºäº‹ä»¶</button>
            <button class="btn btn-reset" onclick="resetFeast()">é‡æ–°ç…®ä¸€é”…</button>
        </div>
        
        <div id="completionArea"></div>
    </div>

    <script>
        // ä¸»äººç¢ç‰‡åˆ—è¡¨
        const fragments = [
            { emoji: "ğŸ‘ƒ", name: "é¼»å­", eaten: false },
            { emoji: "ğŸ‘‚", name: "è€³æœµ", eaten: false },
            { emoji: "ğŸ‘„", name: "å˜´å·´", eaten: false },
            { emoji: "ğŸ‘ï¸", name: "çœ¼ç›", eaten: false },
            { emoji: "ğŸ–ï¸", name: "å·¦æ‰‹", eaten: false },
            { emoji: "ğŸ¤š", name: "å³æ‰‹", eaten: false },
            { emoji: "ğŸ¦µ", name: "å·¦è…¿", eaten: false },
            { emoji: "ğŸ¦¶", name: "å³è…¿", eaten: false },
            { emoji: "ğŸ§ ", name: "è„‘å­", eaten: false },
            { emoji: "â¤ï¸", name: "å¿ƒè„", eaten: false },
            { emoji: "ğŸ«", name: "è‚ºå¶", eaten: false },
            { emoji: "ğŸ¦´", name: "éª¨å¤´", eaten: false }
        ];

        // éšæœºäº‹ä»¶åˆ—è¡¨
        const randomEvents = [
            {
                title: "ğŸ– å‘ç°éšè—ç¾å‘³",
                message: "åœ¨ä¸»äººé”…é‡Œå‘ç°äº†ä¸€å—ç‰¹åˆ«ç¾å‘³çš„è‚‰ï¼è‡ªåŠ¨å•ƒé£Ÿä¸€ä¸ªéšæœºéƒ¨ä½",
                action: () => chewRandom()
            },
            {
                title: "ğŸ”¥ ç«åŠ›åŠ å¤§",
                message: "å¨æˆ¿ç«åŠ›çªç„¶åŠ å¤§ï¼Œä¸»äººæ›´å…¥å‘³äº†ï¼æ‰€æœ‰æœªå•ƒéƒ¨ä½æ›´å®¹æ˜“å•ƒäº†",
                action: () => showMessage("ç«åŠ›åŠ å¤§ï¼Œä¸»äººæ›´é¦™äº†ï¼")
            },
            {
                title: "ğŸ• å°ç‹—è¿›åŒ–",
                message: "å°ç‹—å­¦ä¼šäº†æ–°æŠ€èƒ½ï¼šè¿ç»­å•ƒé£Ÿï¼ä¸‹æ¬¡å•ƒé£Ÿé€Ÿåº¦æ›´å¿«",
                action: () => showMessage("å°ç‹—è¿›åŒ–ï¼šå•ƒé£Ÿé€Ÿåº¦æå‡ï¼")
            },
            {
                title: "â° æ—¶é—´åŠ é€Ÿ",
                message: "æ—¶é—´æµé€åŠ å¿«ï¼Œè‡ªåŠ¨å•ƒé£Ÿä¸¤ä¸ªéšæœºéƒ¨ä½",
                action: () => { chewRandom(); setTimeout(chewRandom, 800); }
            },
            {
                title: "ğŸ² å¹¸è¿éª°å­",
                message: "æ·å‡ºå¹¸è¿æ•°å­—ï¼å¦‚æœè¿›åº¦è¶…è¿‡50%ï¼Œç›´æ¥å®Œæˆä¸€ä¸ªéƒ¨ä½",
                action: () => {
                    const eatenCount = fragments.filter(f => f.eaten).length;
                    if (eatenCount >= fragments.length / 2) {
                        const uneaten = fragments.filter(f => !f.eaten);
                        if (uneaten.length > 0) {
                            const randomIndex = fragments.findIndex(f => f.name === uneaten[0].name);
                            fragments[randomIndex].eaten = true;
                            initFragments();
                            showMessage("å¹¸è¿éª°å­ç”Ÿæ•ˆï¼è‡ªåŠ¨å®Œæˆä¸€ä¸ªéƒ¨ä½");
                        }
                    } else {
                        showMessage("å¹¸è¿å€¼ä¸è¶³ï¼Œéœ€è¦æ›´å¤šå•ƒé£Ÿè¿›åº¦");
                    }
                }
            },
            {
                title: "ğŸ’¥ å¨æˆ¿äº‹æ•…",
                message: "é”…æ‰“ç¿»äº†ï¼éœ€è¦é‡æ–°å¼€å§‹å•ƒé£Ÿ",
                action: () => {
                    resetFeast();
                    showMessage("é”…æ‰“ç¿»äº†ï¼Œé‡æ–°å¼€å§‹å•ƒé£Ÿ...");
                }
            }
        ];

        const dog = document.getElementById('dog');
        const fragmentsGrid = document.getElementById('fragmentsGrid');
        const progressBar = document.getElementById('progressBar');
        const statusMessage = document.getElementById('statusMessage');
        const eventAlert = document.getElementById('eventAlert');
        const disclaimerContent = document.getElementById('disclaimerContent');

        // åˆ‡æ¢å…è´£å£°æ˜æ˜¾ç¤º
        function toggleDisclaimer() {
            disclaimerContent.style.display = disclaimerContent.style.display === 'block' ? 'none' : 'block';
        }

        // æ˜¾ç¤ºæ¶ˆæ¯
        function showMessage(message) {
            statusMessage.innerHTML = message;
        }

        // è§¦å‘éšæœºäº‹ä»¶
        function triggerRandomEvent() {
            const randomEvent = randomEvents[Math.floor(Math.random() * randomEvents.length)];
            
            eventAlert.innerHTML = `<strong>${randomEvent.title}</strong><br>${randomEvent.message}`;
            eventAlert.style.display = 'block';
            
            // æ‰§è¡Œäº‹ä»¶åŠ¨ä½œ
            randomEvent.action();
            
            // 3ç§’åéšè—äº‹ä»¶æç¤º
            setTimeout(() => {
                eventAlert.style.display = 'none';
            }, 3000);
            
            // æ›´æ–°è¿›åº¦
            updateProgress();
        }

        // ç‚¹å‡»å°ç‹—ä¹Ÿæœ‰å‡ ç‡è§¦å‘äº‹ä»¶
        function randomEvent() {
            if (Math.random() < 0.3) { // 30%å‡ ç‡è§¦å‘äº‹ä»¶
                triggerRandomEvent();
            }
        }

        // åˆå§‹åŒ–ç¢ç‰‡ç½‘æ ¼
        function initFragments() {
            fragmentsGrid.innerHTML = '';
            fragments.forEach((fragment, index) => {
                const fragmentElement = document.createElement('div');
                fragmentElement.className = `fragment-item ${fragment.eaten ? 'eaten' : ''}`;
                fragmentElement.innerHTML = `
                    <div class="fragment-emoji">${fragment.emoji}</div>
                    <div class="fragment-name">${fragment.name}</div>
                `;
                fragmentElement.onclick = () => chewFragment(index);
                fragmentsGrid.appendChild(fragmentElement);
            });
            updateProgress();
        }

        // å•ƒé£Ÿç¢ç‰‡
        function chewFragment(index) {
            if (fragments[index].eaten) return;
            
            dog.classList.add('chewing');
            statusMessage.innerHTML = `å°ç‹—æ­£åœ¨å•ƒ${fragments[index].name}... ğŸ¦´`;
            
            setTimeout(() => {
                fragments[index].eaten = true;
                initFragments();
                statusMessage.innerHTML = `âœ… æˆåŠŸå•ƒæ‰${fragments[index].name}ï¼`;
                dog.classList.remove('chewing');
                
                // å•ƒé£Ÿåæœ‰å‡ ç‡è§¦å‘äº‹ä»¶
                if (Math.random() < 0.2) {
                    setTimeout(triggerRandomEvent, 500);
                }
                
                checkCompletion();
            }, 1000);
        }

        // éšæœºå•ƒä¸€å£
        function chewRandom() {
            const uneatenFragments = fragments.filter(f => !f.eaten);
            if (uneatenFragments.length === 0) {
                statusMessage.innerHTML = "å·²ç»å•ƒå®Œæ‰€æœ‰ç¢ç‰‡äº†ï¼";
                return;
            }
            
            const randomIndex = Math.floor(Math.random() * uneatenFragments.length);
            const fragmentName = uneatenFragments[randomIndex].name;
            const actualIndex = fragments.findIndex(f => f.name === fragmentName && !f.eaten);
            
            chewFragment(actualIndex);
        }

        // æ›´æ–°è¿›åº¦
        function updateProgress() {
            const eatenCount = fragments.filter(f => f.eaten).length;
            const totalCount = fragments.length;
            const percentage = (eatenCount / totalCount) * 100;
            
            progressBar.style.width = `${percentage}%`;
            progressBar.textContent = `${Math.round(percentage)}%`;
        }

        // æ£€æŸ¥æ˜¯å¦å®Œæˆ
        function checkCompletion() {
            const allEaten = fragments.every(f => f.eaten);
            if (allEaten) {
                setTimeout(() => {
                    const completionDiv = document.createElement('div');
                    completionDiv.className = 'completion-message';
                    completionDiv.innerHTML = 'ğŸ‰ æ­å–œä½ ï¼ˆå°ç‹—ï¼‰æŠŠä¸»äººåƒäº†ï¼ ğŸ‰<br>ğŸ½ï¸ ç¾å‘³ç¨‹åº¦ï¼šâ˜…â˜…â˜…â˜…â˜…<br>ğŸ• å°ç‹—è¡¨ç¤ºå¾ˆæ»¡æ„ï¼';
                    document.getElementById('completionArea').appendChild(completionDiv);
                }, 500);
            }
        }

        // é‡æ–°å¼€å§‹
        function resetFeast() {
            fragments.forEach(fragment => {
                fragment.eaten = false;
            });
            initFragments();
            statusMessage.innerHTML = "å·²é‡æ–°å‡†å¤‡ä¸€é”…ä¸»äººï¼Œè¯·å¼€å§‹å•ƒé£Ÿ...";
            document.getElementById('completionArea').innerHTML = '';
        }

        // åˆå§‹åŒ–
        initFragments();
    </script>
</body>
</html>